<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>(Practice) Exam 1 – DataSci for Lang &amp; Mind</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../include/webex.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      DataSci for Lang &amp; Mind
      </li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">DataSci for Lang &amp; Mind</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#resources" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../index.html#materials" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Materials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#study-guides" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Study guides</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#problem-sets" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem sets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#exams" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#lab-exercises" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab exercises</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#schedule" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#points-r-basics-general" id="toc-points-r-basics-general" class="nav-link active" data-scroll-target="#points-r-basics-general">1. (8 points) R basics: general</a></li>
  <li><a href="#points-r-basics-vectors-operations-subsetting" id="toc-points-r-basics-vectors-operations-subsetting" class="nav-link" data-scroll-target="#points-r-basics-vectors-operations-subsetting">2. (9 points) R basics: vectors, operations, subsetting</a></li>
  <li><a href="#points-data-importing" id="toc-points-data-importing" class="nav-link" data-scroll-target="#points-data-importing">3. (10 points) Data importing</a></li>
  <li><a href="#points-data-visualization-basics" id="toc-points-data-visualization-basics" class="nav-link" data-scroll-target="#points-data-visualization-basics">4. (11 points) Data visualization: basics</a></li>
  <li><a href="#points-data-visualization-layers" id="toc-points-data-visualization-layers" class="nav-link" data-scroll-target="#points-data-visualization-layers">5. (9 points) Data visualization: layers</a></li>
  <li><a href="#points-data-wrangling" id="toc-points-data-wrangling" class="nav-link" data-scroll-target="#points-data-wrangling">6. (15 points) Data wrangling</a></li>
  <li><a href="#points-sampling-distribution" id="toc-points-sampling-distribution" class="nav-link" data-scroll-target="#points-sampling-distribution">7. (10 points) Sampling distribution</a></li>
  <li><a href="#points-hypothesis-testing" id="toc-points-hypothesis-testing" class="nav-link" data-scroll-target="#points-hypothesis-testing">8. (11 points) Hypothesis testing</a></li>
  <li><a href="#points-correlation" id="toc-points-correlation" class="nav-link" data-scroll-target="#points-correlation">9. (9 points) Correlation</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="exam-01-practice.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">(Practice) Exam 1</h1>
<p class="subtitle lead">Data Science for Studying Language &amp; the Mind</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>Instructions</strong></p>
<p>The exam is worth <strong>97 points</strong>. You have <strong>1 hours and 30 minutes</strong> to complete the exam.</p>
<ul>
<li>The exam is closed book/note/computer/phone except for the provided reference sheets</li>
<li>If you need to use the restroom, leave your exam and phone with the TAs</li>
<li>If you finish early, you may turn in your exam and leave early</li>
</ul>
<!-- For all multiple choice questions, **only one choice is correct**: 

- [ ] Choose this option
- [ ] Or this option, but not both! -->
<p><strong>Preliminary questions</strong></p>
<p>Please complete these questions <em>before</em> the exam begins.</p>
<ol type="a">
<li><p><strong>(1 point)</strong> What is your full name?</p></li>
<li><p><strong>(1 point)</strong> What is your penn ID number?</p></li>
<li><p><strong>(1 point)</strong> What is your lab section TA’s name?</p></li>
<li><p><strong>(1 point)</strong> Who is sitting to your left?</p></li>
<li><p><strong>(1 point)</strong> Who is sitting to your right?</p></li>
</ol>
<!-- \begin{center}
\textbf{Score by topic area}\\
\begin{tabular}{|l|l|}\hline
R basics: general &   \\ \hline
R basics: vectors, operations, subsetting &  \\ \hline
Data importing &  \\ \hline
Data visualization: basics &  \\ \hline
Data visualization: layers  &  \\ \hline
Data wrangling &  \\ \hline
Total & \\ \hline

\end{tabular}
\end{center} -->
<section id="points-r-basics-general" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-r-basics-general">1. (8 points) R basics: general</h3>
<ol type="a">
<li><p><strong>(2 points)</strong> Suppose you run the following code. Which command could you run to remove the <code>y</code> variable from the current environment? Choose one.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="sc">+</span> <span class="dv">4</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul class="task-list">
<li><label><input type="checkbox"><code>ls(y)</code></label></li>
<li><label><input type="checkbox"><code>rm(3 + 4)</code></label></li>
<li><label><input type="checkbox"><code>rm(y)</code></label></li>
<li><label><input type="checkbox"><code>environment(remove = 'y')</code></label></li>
<li><label><input type="checkbox">All of the above</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> Write an expression that would assign the value <code>10</code> to the variable name <code>my_var</code>?</p></li>
<li><p><strong>(2 points)</strong> Which of the following would install the <code>praise</code> package? Choose one.</p>
<ul class="task-list">
<li><label><input type="checkbox"><code>library(praise)</code></label></li>
<li><label><input type="checkbox"><code>load(praise)</code></label></li>
<li><label><input type="checkbox"><code>install.packages("praise")</code></label></li>
<li><label><input type="checkbox"><code>install(praise)</code></label></li>
<li><label><input type="checkbox">All of the above</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> Suppose you run the following code. Which functions would return the structure of the object you defined? Choose one.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"bus"</span>, <span class="st">"stop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul class="task-list">
<li><label><input type="checkbox"><code>print(x)</code></label></li>
<li><label><input type="checkbox"><code>str(x)</code></label></li>
<li><label><input type="checkbox"><code>attributes(x)</code></label></li>
<li><label><input type="checkbox">Both <code>str(x)</code> and <code>attributes(x)</code></label></li>
<li><label><input type="checkbox">None of the above</label></li>
</ul></li>
</ol>
</section>
<section id="points-r-basics-vectors-operations-subsetting" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-r-basics-vectors-operations-subsetting">2. (9 points) R basics: vectors, operations, subsetting</h3>
<ol type="a">
<li><p><strong>(2 points)</strong> Suppose you run the following code. What will length(x) return? Write your answer in the box below.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>(3 points)</strong> Suppose you run the following code. What will <code>y &gt; 4</code> return? Write your answer in the box below and <em>show your work</em>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">8</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>(2 points)</strong> Suppose you run the following code. What will <code>typeof(x)</code> return? Choose one.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"pear"</span>, <span class="st">"orange"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul class="task-list">
<li><label><input type="checkbox"><code>fruit</code></label></li>
<li><label><input type="checkbox"><code>character</code></label></li>
<li><label><input type="checkbox"><code>vector</code></label></li>
<li><label><input type="checkbox"><code>logical</code></label></li>
<li><label><input type="checkbox">Error: No type attribute for x</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> Suppose you create the following data frame and assign it to the <code>df</code> variable. What will <code>sum(df$antique)</code> return? Choose one.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  antique age show
1       1   2    a
2       2   3    b
3       3   4    c</code></pre>
</div>
</div>
<ul class="task-list">
<li><label><input type="checkbox">6</label></li>
<li><label><input type="checkbox">9</label></li>
<li><label><input type="checkbox">15</label></li>
<li><label><input type="checkbox">NULL</label></li>
<li><label><input type="checkbox">Error: Cannot sum on value “antique”</label></li>
</ul></li>
</ol>
</section>
<section id="points-data-importing" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-data-importing">3. (10 points) Data importing</h3>
<ol type="a">
<li><p><strong>(2 points)</strong> Which <code>tidyverse</code> package do we use to import data? Choose one.</p>
<ul class="task-list">
<li><label><input type="checkbox"><code>dplyr</code></label></li>
<li><label><input type="checkbox"><code>readr</code></label></li>
<li><label><input type="checkbox"><code>importr</code></label></li>
<li><label><input type="checkbox"><code>ggplot2</code></label></li>
<li><label><input type="checkbox"><code>googlesheets2</code></label></li>
<li><label><input type="checkbox"><code>purrr</code></label></li>
</ul></li>
<li><p><strong>(2 points)</strong> True or false, the following code blocks return the same tibble.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">z =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tribble</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span>x, <span class="sc">~</span>y, <span class="sc">~</span>z,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span><span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span><span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul class="task-list">
<li><label><input type="checkbox">True</label></li>
<li><label><input type="checkbox">False</label></li>
</ul></li>
<li><p><strong>(3 points)</strong> Suppose you import “junesales.csv”, shown below, with the following code. What would <code>data$Sale</code> return? Choose one.</p>
<pre><code>Year, Month, Day, Sale
2023, June, 1, 0
2023, June, 2, 1
2023, June, 3, 0
2023, June, 4, 1</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"junesales.csv"</span>,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">list</span>(<span class="at">Sale =</span> <span class="fu">col_logical</span>())</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul class="task-list">
<li><label><input type="checkbox">A <code>double</code> vector with values <code>0 1 0 1</code></label></li>
<li><label><input type="checkbox">A <code>logical</code> vector with values <code>FALSE TRUE FALSE TRUE</code></label></li>
<li><label><input type="checkbox">A double vector with values <code>NA NA NA NA</code></label></li>
<li><label><input type="checkbox">Error: Cannot coerce col to logical</label></li>
</ul></li>
<li><p><strong>(3 points)</strong> Suppose you import a dataset with but when you <code>print(data)</code> you notice that the <code>age</code> column was identified as <code>character</code> when you were expecting <code>double</code>. Given the resulting tibble, which of the following arguments could you include in blank in the code below to solve this problem? Choose one.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  age   graduated   gpa
  &lt;chr&gt; &lt;lgl&gt;     &lt;dbl&gt;
1 18    FALSE      NA  
2 na    FALSE       3.8
3 25    TRUE        2.9
4 21    TRUE        3.1</code></pre>
</div>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data.csv"</span>, ________)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul class="task-list">
<li><label><input type="checkbox"><code>.drop = NA</code></label></li>
<li><label><input type="checkbox"><code>skip = 2</code></label></li>
<li><label><input type="checkbox"><code>guess_max = Inf</code></label></li>
<li><label><input type="checkbox"><code>na = c("na")</code></label></li>
<li><label><input type="checkbox"><code>col_names = FALSE</code></label></li>
</ul></li>
</ol>
</section>
<section id="points-data-visualization-basics" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-data-visualization-basics">4. (11 points) Data visualization: basics</h3>
<p>Suppose you are analyzing the <code>durationsGe</code> dataset, which includes the duration of the prefix ge- in Dutch by various speakers from the Spoken Dutch Corpus, glimpsed here.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 428
Columns: 8
$ Word                &lt;fct&gt; geprikt, gepresteerd, gevolgd, geprikkeld, gestaak…
$ Frequency           &lt;int&gt; 13, 25, 309, 16, 40, 42, 1301, 10, 73, 19, 39, 6, …
$ Speaker             &lt;fct&gt; N01159, N01077, N01032, N01128, N01204, N01151, N0…
$ Sex                 &lt;fct&gt; male, male, female, female, female, female, male, …
$ YearOfBirth         &lt;int&gt; 1944, 1980, 1939, 1979, 1963, 1956, 1979, 1944, 19…
$ DurationOfPrefix    &lt;dbl&gt; 0.238703, 0.082057, 0.120832, 0.106897, 0.133441, …
$ SpeechRate          &lt;dbl&gt; 3.144654, 6.882591, 6.870229, 7.217848, 5.866667, …
$ NumberSegmentsOnset &lt;int&gt; 2, 2, 1, 2, 2, 1, 2, 2, 1, 3, 1, 2, 1, 2, 3, 1, 2,…</code></pre>
</div>
</div>
<p>Then, you use the following code to generate the plots below.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code 1</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(durationsGe, <span class="fu">aes</span>(<span class="at">x =</span> DurationOfPrefix, <span class="at">fill =</span> Sex)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"lightgray"</span>) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"gray"</span>, <span class="st">"black"</span>))</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Code 2</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(durationsGe, <span class="fu">aes</span>(<span class="at">x =</span> DurationOfPrefix)) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"lightgray"</span>) <span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

</div>
<div class="cell quarto-layout-panel" data-layout-ncol="2" data-cap-location="bottom">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<ol type="a">
<li><p><strong>(3 points)</strong> Which of plots A and B did Code 1 and 2 generate? Choose one.</p>
<ul class="task-list">
<li><label><input type="checkbox">Code 1 generates plot A, code 2 generates plot B</label></li>
<li><label><input type="checkbox">Code 2 generates plot A, code 1 generates plot B</label></li>
<li><label><input type="checkbox">Code 1 and 2 both generate plot A</label></li>
<li><label><input type="checkbox">Code 1 and 2 both generate plot B</label></li>
<li><label><input type="checkbox">Code 1 and 2 generate neither plot A nor plot B</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> Which geoms could be depicted in plots A and B above? Choose all that apply.</p>
<ul class="task-list">
<li><label><input type="checkbox"><code>geom_histogram()</code></label></li>
<li><label><input type="checkbox"><code>geom_smooth()</code></label></li>
<li><label><input type="checkbox"><code>geom_line()</code></label></li>
<li><label><input type="checkbox"><code>geom_density()</code></label></li>
<li><label><input type="checkbox"><code>geom_bar()</code></label></li>
</ul></li>
<li><p><strong>(3 points)</strong> Consider the following code blocks 3 and 4. Would they generate identical figures? Explain why or why not in the box below.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code 3</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data=</span>durationsGe, </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> DurationOfPrefix, <span class="at">x =</span> Sex)) <span class="sc">+</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Code 4</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">y =</span> DurationOfPrefix, <span class="at">x =</span> Sex), durationsGe) <span class="sc">+</span> </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<ol start="4" type="a">
<li><p><strong>(3 points)</strong> The code below makes use of a new geom, <code>geom_rug()</code>, to generate plot C, in which each individual data point is plotted along the x-axis like a “rug”.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(durationsGe, <span class="fu">aes</span>(<span class="at">x =</span> DurationOfPrefix)) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_rug</span>() <span class="sc">+</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">12</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div>

</div>
<div class="cell quarto-layout-panel" data-layout-ncol="2" data-cap-location="bottom">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p>In the box below, rewrite the code such the color of the rug is mapped to the <code>Sex</code> variable and the bars of the histogram are filled in with the color “lightblue”.</p></li>
</ol>
</section>
<section id="points-data-visualization-layers" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-data-visualization-layers">5. (9 points) Data visualization: layers</h3>
<p>Suppose you now want to visualize the <code>SpeechRate</code> variable in the <code>durationsGe</code> dataset, which codes a speakers speech rate in number of sylalbuse per second.</p>
<div>

</div>
<div class="cell quarto-layout-panel" data-layout-ncol="2" data-cap-location="bottom">
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-bottom">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-7-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<ol type="a">
<li><p><strong>(2 points)</strong> True of false, adding the argument <code>position = "jitter"</code> to <code>geom_point()</code> would add a small amount of random noise around each point in plot D?</p>
<ul class="task-list">
<li><label><input type="checkbox">True</label></li>
<li><label><input type="checkbox">False</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> Which of the following would change plot D to plot E? Choose one.</p>
<ul class="task-list">
<li><label><input type="checkbox">add layer <code>facet_wrap(~ Sex)</code></label></li>
<li><label><input type="checkbox">add layer <code>facet_grid(. ~ Sex)</code></label></li>
<li><label><input type="checkbox">add layer <code>facet_grid(Sex ~ .)</code></label></li>
<li><label><input type="checkbox">add layer <code>facet_grid(Word ~ Sex)</code></label></li>
<li><label><input type="checkbox">add layer <code>facet_by_sex()</code></label></li>
</ul></li>
</ol>
<ol start="3" type="a">
<li><p><strong>(2 points)</strong> Which of the following arguments to <code>geom_histogram()</code> could be present in the code that returned plot F? Choose all that apply.</p>
<ul class="task-list">
<li><label><input type="checkbox"><code>bins=12</code></label></li>
<li><label><input type="checkbox"><code>bins=1</code></label></li>
<li><label><input type="checkbox"><code>binwidth=1</code></label></li>
<li><label><input type="checkbox"><code>binwidth=12</code></label></li>
</ul></li>
<li><p><strong>(3 points)</strong> Which of the following layers must be present in the code that returned plot F? Choose all that apply.</p>
<ul class="task-list">
<li><label><input type="checkbox"><code>theme_minimal(base_size = 15)</code></label></li>
<li><label><input type="checkbox"><code>theme_minimal(font_size = 15)</code></label></li>
<li><label><input type="checkbox"><code>labs(title = "Histogram of speech rate")</code></label></li>
<li><label><input type="checkbox"><code>labs(caption = "Histogram of speech rate")</code></label></li>
<li><label><input type="checkbox"><code>facet_grid(.~ count)</code></label></li>
</ul></li>
</ol>
</section>
<section id="points-data-wrangling" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-data-wrangling">6. (15 points) Data wrangling</h3>
<p>Now that you’ve done some initial visualizations of the <code>durationsGe</code> data, you realize you need to do some data wrangling. Here’s a glimpse at the data again to refresh your memory.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 428
Columns: 8
$ Word                &lt;fct&gt; geprikt, gepresteerd, gevolgd, geprikkeld, gestaak…
$ Frequency           &lt;int&gt; 13, 25, 309, 16, 40, 42, 1301, 10, 73, 19, 39, 6, …
$ Speaker             &lt;fct&gt; N01159, N01077, N01032, N01128, N01204, N01151, N0…
$ Sex                 &lt;fct&gt; male, male, female, female, female, female, male, …
$ YearOfBirth         &lt;int&gt; 1944, 1980, 1939, 1979, 1963, 1956, 1979, 1944, 19…
$ DurationOfPrefix    &lt;dbl&gt; 0.238703, 0.082057, 0.120832, 0.106897, 0.133441, …
$ SpeechRate          &lt;dbl&gt; 3.144654, 6.882591, 6.870229, 7.217848, 5.866667, …
$ NumberSegmentsOnset &lt;int&gt; 2, 2, 1, 2, 2, 1, 2, 2, 1, 3, 1, 2, 1, 2, 3, 1, 2,…</code></pre>
</div>
</div>
<ol type="a">
<li><p><strong>(3 points)</strong> The <code>Sex</code> variable in the <code>durationsGe</code> dataset has the following distinct values: <code>"male" "female" NA</code>. How many rows would be in the object returned by the following code block? Choose one.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>durationsGe <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Sex <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"female"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">minBirthYear=</span><span class="fu">min</span>(YearOfBirth, <span class="at">na.rm=</span><span class="cn">TRUE</span>), <span class="at">.by=</span><span class="fu">c</span>(Sex))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul class="task-list">
<li><label><input type="checkbox">1</label></li>
<li><label><input type="checkbox">3</label></li>
<li><label><input type="checkbox">428</label></li>
<li><label><input type="checkbox">However many female speakers there were in the dataset</label></li>
<li><label><input type="checkbox">However many birth years there were in the dataset</label></li>
</ul></li>
</ol>
<ol start="2" type="a">
<li><p><strong>(6 points)</strong> Fill in the blanks in the partially completed code below such that it returns the following tibble, including the <code>mean</code> and <code>sd</code> of the <code>DurationOfPrefix</code> variable.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>durationsGe <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(__a__) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(____b_____, _____c_______)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  Sex      mean      sd
  &lt;fct&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 female 0.125   0.0480
2 male   0.126   0.0468
3 &lt;NA&gt;   0.0960 NA     </code></pre>
</div>
</div>
<ol type="i">
<li><strong>(2 points)</strong> Fill in blank a.</li>
</ol>
<ol start="2" type="i">
<li><strong>(2 points)</strong> Fill in blank b.</li>
</ol>
<ol type="i">
<li><strong>(2 points)</strong> Fill in blank c.&nbsp;</li>
</ol></li>
</ol>
<ol start="3" type="a">
<li><p><strong>(3 points)</strong> Consider the following code options. Would they return identical tibbles? Explain why or why not in the box below.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># option 1</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>durationsGe <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Frequency) <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Frequency <span class="sc">&gt;</span> <span class="dv">40</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>()</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># option 2</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>just_freq <span class="ot">&lt;-</span> <span class="fu">select</span>(durationsGe, Frequency)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>freq_under_40 <span class="ot">&lt;-</span> <span class="fu">filter</span>(just_freq, Frequency <span class="sc">&gt;</span> <span class="dv">40</span>)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(freq_under_40)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>(3 points)</strong> Consider the following code options. Would they return identical tibbles? Explain why or why not in the box below.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># option 1</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>durationsGe <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="at">Freq=</span>Frequency, Speaker<span class="sc">:</span>DurationOfPrefix) <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">AgeInYears =</span> <span class="dv">2023</span> <span class="sc">-</span> YearOfBirth, <span class="at">.before =</span> Freq)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># option 2</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>durationsGe <span class="sc">%&gt;%</span> </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Frequency<span class="sc">:</span>DurationOfPrefix) <span class="sc">%&gt;%</span> </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">Freq =</span> Frequency) <span class="sc">%&gt;%</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">AgeInYears =</span> <span class="dv">2023</span> <span class="sc">-</span> YearOfBirth, <span class="at">.before =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
</section>
<section id="points-sampling-distribution" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-sampling-distribution">7. (10 points) Sampling distribution</h3>
<p>The following data was simulated from Johnson &amp; Newport (1989), a study investigating the English language proficiency of 46 native Korean or Chinese speakers who arrived in the US between the ages of 3 and 39. The researchers were interested in whether the participants’ age of arrival to the United States played a role in their English language proficiency.</p>
<!-- \newcommand\answerbox{%%
    \framebox(400,50){}}

\begin{flushleft}
\makebox[12cm]{\textbf{Name}:\ \hrulefill}
\medskip
\makebox[12cm]{\textbf{PennKey}:\ \hrulefill}
\medskip
\makebox[12cm]{\textbf{Lab section TA}:\ \hrulefill}
\end{flushleft}

\begin{center}
\textbf{Score by topic area}\\
\begin{tabular}{|l|l|}\hline
Sampling distribution &   \\ \hline
Hypothesis testing &  \\ \hline
Correlation & \\ \hline
Model specification & \\ \hline
Total & \\ \hline

\end{tabular}
\end{center}

\clearpage -->
<p>Suppose we returned a tibble with the number of data points (<code>n</code>), the <code>median</code>, and the IQR (<code>lower</code> and <code>upper</code>) grouped by <code>ageGroup</code>.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
  ageGroup     n median lower upper
  &lt;chr&gt;    &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 0           23   268.  268.  270.
2 11-15        8   233.  228.  237.
3 17-39       23   220.  201.  233.
4 3-7          7   271.  269.  273.
5 8-10         8   263.  256.  266.</code></pre>
</div>
</div>
<p>Then, suppose we used <code>infer</code> to generate the sampling distribution for the median proficiancy of the <strong>17-39 year old age group</strong>, visualize the distribution, and shade the confidence interval.</p>
<div>

</div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<ol type="a">
<li><p><strong>(2 points)</strong> Which of the following best describes the statistics in the tibble?</p>
<ul class="task-list">
<li><label><input type="checkbox">Both median and IQR are parametric</label></li>
<li><label><input type="checkbox">Both median and IQR are nonparametric</label></li>
<li><label><input type="checkbox">Meidan is parametric, but IQR is nonparametric</label></li>
<li><label><input type="checkbox">Median is nonparametric, but IQR is parametric</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> The sampling distribution of the median looks approximately Gaussian. The probability densitiy function for the Gaussian distribution is given by which of the following equations?</p>
<ul class="task-list">
<li><label><input type="checkbox"><span class="math inline">\(\frac{\sum_{i=i}^{n} x_{i}}{n}\)</span></label></li>
<li><label><input type="checkbox"><span class="math inline">\(\frac{1}{\sigma\sqrt{2\pi}}\exp\left(-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^{2}\right)\)</span></label></li>
<li><label><input type="checkbox"><span class="math inline">\(\frac{1}{max-min}\)</span></label></li>
<li><label><input type="checkbox"><span class="math inline">\(\sqrt{\frac{\sum_{i=1}^n (x_i - \overline{x})^2}{n-1}}\)</span></label></li>
</ul></li>
<li><p><strong>(3 points)</strong> Fill in the blanks in the sentence below to describe what happens <em>on each repeat</em> in which we construct the sampling distribution via bootstrapping.</p></li>
</ol>
<blockquote class="blockquote">
<p>Draw __________ data points _____________ replacement, compute the ____________.</p>
</blockquote>
<ol start="4" type="a">
<li><p><strong>(3 points)</strong> The shaded area of the figure shows a 68% confidence interval. If we were to increase the <code>level</code> of confidence to 95%, the confidence interval would become:</p>
<ul class="task-list">
<li><label><input type="checkbox">Narrower</label></li>
<li><label><input type="checkbox">Wider</label></li>
<li><label><input type="checkbox">Unchanged</label></li>
<li><label><input type="checkbox">There’s insufficient information to determine this</label></li>
</ul></li>
</ol>
</section>
<section id="points-hypothesis-testing" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-hypothesis-testing">8. (11 points) Hypothesis testing</h3>
<p>Suppose we want to know whether the participants who arrived as adults (17-39 age group) acheived native performance. We decide to address this question via the 3-step hypothesis testing framework in which we investigate the difference in <strong>medians</strong> between the native English speakers (0 age group) and the adults (17-39 age group).</p>
<p>We begin by visualizing the data.</p>
<div>

</div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p>Then, we use <code>infer</code> to generate the sampling distribution for the difference in <strong>median proficiency</strong> between the native English speakers (0 age group) and the adults (17-39 age group).</p>
<div>

</div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<ol type="a">
<li><p><strong>(2 points)</strong> Which geom is best for our initial visualization of the data? Choose one.</p>
<ul class="task-list">
<li><label><input type="checkbox"><code>geom_histogram()</code></label></li>
<li><label><input type="checkbox"><code>geom_violin()</code></label></li>
<li><label><input type="checkbox"><code>geom_boxplot()</code></label></li>
<li><label><input type="checkbox"><code>geom_density()</code></label></li>
<li><label><input type="checkbox"><code>geom_bar(stat = "identity")</code></label></li>
</ul></li>
<li><p><strong>(2 points)</strong> Step 1 of the 3-step hypothesis testing framework is to pose the null hypothesis. True or false, the null hypothesis here is that the observed difference in medians is due age group (age of arrival in the US).</p>
<ul class="task-list">
<li><label><input type="checkbox">True</label></li>
<li><label><input type="checkbox">False</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> Step 2 is to ask, if the null hypothesis is true, how likely is our observed pattern of results? We quantify this likelihood with:</p>
<ul class="task-list">
<li><label><input type="checkbox">difference in medians</label></li>
<li><label><input type="checkbox">correlation</label></li>
<li><label><input type="checkbox">liklihood estimation</label></li>
<li><label><input type="checkbox">p-value</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> Step 3 is to decide whether to reject the null hypothesis. In the original paper, Johnson and Newport (1989) concluded that the two groups were significantly different from each other, suggesting that participants who arrived to the US after age 17 did not acheive native proficiency. This implies that they (choose one):</p>
<ul class="task-list">
<li><label><input type="checkbox">Rejected the null hypothesis</label></li>
<li><label><input type="checkbox">Failed to reject the null hypothesis</label></li>
<li><label><input type="checkbox">Proved the research hypothesis to be true</label></li>
<li><label><input type="checkbox">Proved the null hypothesis to be true</label></li>
<li><label><input type="checkbox">All of the above</label></li>
</ul></li>
<li><p><strong>(3 points)</strong> When we calculate the p-value from the simulated null distribution using the <code>get_p_value()</code> function, we get <strong>p = 0</strong>. Is this a problem? Why or why not? Explain what a p-value of 0 means in this context.</p></li>
</ol>
</section>
<section id="points-correlation" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="points-correlation">9. (9 points) Correlation</h3>
<p>Johnson and Newport (1989) also wanted to ask whether years of exposure to English predicted score on the English proficiency task. To address this, they computed the correlation between score and exposure.</p>
<div>

</div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<ol type="a">
<li><p><strong>(2 points)</strong> Given the scatterplot of these data, which of the following could be their observed correlation?</p>
<ul class="task-list">
<li><label><input type="checkbox"><span class="math inline">\(-0.88\)</span></label></li>
<li><label><input type="checkbox"><span class="math inline">\(0.88\)</span></label></li>
<li><label><input type="checkbox"><span class="math inline">\(0.16\)</span></label></li>
<li><label><input type="checkbox"><span class="math inline">\(0.5\)</span></label></li>
</ul></li>
<li><p><strong>(2 points)</strong> True or false, the correlations computed on these data were subject to sampling variability.</p>
<ul class="task-list">
<li><label><input type="checkbox">True</label></li>
<li><label><input type="checkbox">False</label></li>
</ul></li>
</ol>
<ol start="3" type="a">
<li><p><strong>(3 points)</strong> Johnson and Newport used hypothesis testing to determine whether the correlation they observed was significantly different from zero. We computed a p-value of <code>0.624</code> on the correlation we observed in our simulated data. Which figure could represent this p-value visualized on a null distribution generated nonparametrically from 1000 repetitions?</p>
<div>

</div>
<div class="cell quarto-layout-panel" data-layout-ncol="3">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-17-2.png" class="img-fluid" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="exam-01-practice_files/figure-html/unnamed-chunk-17-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<ul class="task-list">
<li><label><input type="checkbox">A</label></li>
<li><label><input type="checkbox">B</label></li>
<li><label><input type="checkbox">C</label></li>
<li><label><input type="checkbox">A or B, there is not sufficient information to differentiate</label></li>
<li><label><input type="checkbox">A or C, there is not sufficient information to differentiate</label></li>
</ul></li>
<li><p><strong>(2 points)</strong> What type of relationship does the correlation between years of exposure and score suggest?</p>
<ul class="task-list">
<li><label><input type="checkbox">Linear</label></li>
<li><label><input type="checkbox">Nonlinear</label></li>
<li><label><input type="checkbox">Independence</label></li>
<li><label><input type="checkbox">Permute</label></li>
</ul></li>
</ol>


</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>