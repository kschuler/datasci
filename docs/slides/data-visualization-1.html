<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Katie Schuler">
<meta name="dcterms.date" content="2024-09-03">

<title>Data Visualization Day 1 – DataSci for Lang &amp; Mind</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../include/webex.css">
</head>

<body class="nav-sidebar docked slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      DataSci for Lang &amp; Mind
      </li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">DataSci for Lang &amp; Mind</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#resources" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../index.html#materials" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Materials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#study-guides" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Study guides</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#problem-sets" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem sets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#exams" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exams</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#lab-exercises" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab exercises</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html#schedule" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#announcements" id="toc-announcements" class="nav-link active" data-scroll-target="#announcements"><span class="header-section-number">0.1</span> Announcements</a></li>
  <li><a href="#you-are-here" id="toc-you-are-here" class="nav-link" data-scroll-target="#you-are-here"><span class="header-section-number">0.2</span> You are <code>here</code></a></li>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link" data-scroll-target="#acknowledgements"><span class="header-section-number">1</span> Acknowledgements</a>
  <ul class="collapse">
  <li><a href="#why-visualize" id="toc-why-visualize" class="nav-link" data-scroll-target="#why-visualize"><span class="header-section-number">1.1</span> Why visualize?</a></li>
  <li><a href="#why-visualize-1" id="toc-why-visualize-1" class="nav-link" data-scroll-target="#why-visualize-1"><span class="header-section-number">1.2</span> Why visualize?</a></li>
  <li><a href="#datasaurus-dozen" id="toc-datasaurus-dozen" class="nav-link" data-scroll-target="#datasaurus-dozen"><span class="header-section-number">1.3</span> Datasaurus dozen</a></li>
  <li><a href="#datasaurus-dozen-1" id="toc-datasaurus-dozen-1" class="nav-link" data-scroll-target="#datasaurus-dozen-1"><span class="header-section-number">1.4</span> Datasaurus dozen</a></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2"><span class="header-section-number">1.5</span> ggplot2</a></li>
  <li><a href="#using-ggplot2" id="toc-using-ggplot2" class="nav-link" data-scroll-target="#using-ggplot2"><span class="header-section-number">1.6</span> Using <code>ggplot2</code></a></li>
  <li><a href="#why-ggplot2" id="toc-why-ggplot2" class="nav-link" data-scroll-target="#why-ggplot2"><span class="header-section-number">1.7</span> Why ggplot2?</a></li>
  <li><a href="#ggplot2s-grammar-of-graphics" id="toc-ggplot2s-grammar-of-graphics" class="nav-link" data-scroll-target="#ggplot2s-grammar-of-graphics"><span class="header-section-number">1.8</span> ggplot2’s grammar of graphics</a></li>
  <li><a href="#todays-data-ratings" id="toc-todays-data-ratings" class="nav-link" data-scroll-target="#todays-data-ratings"><span class="header-section-number">1.9</span> Today’s data: <code>ratings</code></a></li>
  <li><a href="#todays-data-ratings-1" id="toc-todays-data-ratings-1" class="nav-link" data-scroll-target="#todays-data-ratings-1"><span class="header-section-number">1.10</span> Today’s data: <code>ratings</code></a></li>
  <li><a href="#todays-goal" id="toc-todays-goal" class="nav-link" data-scroll-target="#todays-goal"><span class="header-section-number">1.11</span> Today’s goal</a></li>
  </ul></li>
  <li><a href="#the-basic-ggplot" id="toc-the-basic-ggplot" class="nav-link" data-scroll-target="#the-basic-ggplot"><span class="header-section-number">2</span> The basic ggplot</a>
  <ul class="collapse">
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data"><span class="header-section-number">2.1</span> 1 <code>data</code></a></li>
  <li><a href="#aesthetic-mapping" id="toc-aesthetic-mapping" class="nav-link" data-scroll-target="#aesthetic-mapping"><span class="header-section-number">2.2</span> 2 <code>aesthetic mapping</code></a></li>
  <li><a href="#geom" id="toc-geom" class="nav-link" data-scroll-target="#geom"><span class="header-section-number">2.3</span> 3 <code>geom</code></a></li>
  </ul></li>
  <li><a href="#adding-to-the-basics" id="toc-adding-to-the-basics" class="nav-link" data-scroll-target="#adding-to-the-basics"><span class="header-section-number">3</span> Adding to the basics</a>
  <ul class="collapse">
  <li><a href="#mapping-categorical-variables" id="toc-mapping-categorical-variables" class="nav-link" data-scroll-target="#mapping-categorical-variables"><span class="header-section-number">3.1</span> Mapping categorical variables</a></li>
  <li><a href="#global-vs.-local-aesthetics" id="toc-global-vs.-local-aesthetics" class="nav-link" data-scroll-target="#global-vs.-local-aesthetics"><span class="header-section-number">3.2</span> Global vs.&nbsp;local <code>aesthetics</code></a></li>
  <li><a href="#mapping-vs.-setting-aesthetics" id="toc-mapping-vs.-setting-aesthetics" class="nav-link" data-scroll-target="#mapping-vs.-setting-aesthetics"><span class="header-section-number">3.3</span> Mapping vs.&nbsp;setting <code>aesthetics</code></a></li>
  </ul></li>
  <li><a href="#labels" id="toc-labels" class="nav-link" data-scroll-target="#labels"><span class="header-section-number">4</span> Labels</a>
  <ul class="collapse">
  <li><a href="#labels-title-and-subtitle" id="toc-labels-title-and-subtitle" class="nav-link" data-scroll-target="#labels-title-and-subtitle"><span class="header-section-number">4.1</span> <code>labels</code>: title and subtitle</a></li>
  <li><a href="#labels-x-and-y-axis" id="toc-labels-x-and-y-axis" class="nav-link" data-scroll-target="#labels-x-and-y-axis"><span class="header-section-number">4.2</span> <code>labels</code>: x and y axis</a></li>
  <li><a href="#labels-legend" id="toc-labels-legend" class="nav-link" data-scroll-target="#labels-legend"><span class="header-section-number">4.3</span> <code>labels</code>: legend</a></li>
  </ul></li>
  <li><a href="#theme-and-adjusting-scaling" id="toc-theme-and-adjusting-scaling" class="nav-link" data-scroll-target="#theme-and-adjusting-scaling"><span class="header-section-number">5</span> Theme and adjusting scaling</a>
  <ul class="collapse">
  <li><a href="#themes" id="toc-themes" class="nav-link" data-scroll-target="#themes"><span class="header-section-number">5.1</span> <code>themes</code></a></li>
  <li><a href="#scales-changing-color" id="toc-scales-changing-color" class="nav-link" data-scroll-target="#scales-changing-color"><span class="header-section-number">5.2</span> <code>scales</code>: changing color</a></li>
  </ul></li>
  <li><a href="#aesthetics" id="toc-aesthetics" class="nav-link" data-scroll-target="#aesthetics"><span class="header-section-number">6</span> Aesthetics</a>
  <ul class="collapse">
  <li><a href="#color" id="toc-color" class="nav-link" data-scroll-target="#color"><span class="header-section-number">6.1</span> color</a></li>
  <li><a href="#color-1" id="toc-color-1" class="nav-link" data-scroll-target="#color-1"><span class="header-section-number">6.2</span> color</a></li>
  <li><a href="#size" id="toc-size" class="nav-link" data-scroll-target="#size"><span class="header-section-number">6.3</span> size</a></li>
  <li><a href="#size-1" id="toc-size-1" class="nav-link" data-scroll-target="#size-1"><span class="header-section-number">6.4</span> size</a></li>
  <li><a href="#shape" id="toc-shape" class="nav-link" data-scroll-target="#shape"><span class="header-section-number">6.5</span> shape</a></li>
  <li><a href="#shape-1" id="toc-shape-1" class="nav-link" data-scroll-target="#shape-1"><span class="header-section-number">6.6</span> shape</a></li>
  <li><a href="#alpha" id="toc-alpha" class="nav-link" data-scroll-target="#alpha"><span class="header-section-number">6.7</span> alpha</a></li>
  <li><a href="#alpha-1" id="toc-alpha-1" class="nav-link" data-scroll-target="#alpha-1"><span class="header-section-number">6.8</span> alpha</a></li>
  </ul></li>
  <li><a href="#geometric-objects" id="toc-geometric-objects" class="nav-link" data-scroll-target="#geometric-objects"><span class="header-section-number">7</span> Geometric objects</a>
  <ul class="collapse">
  <li><a href="#geom_-aka-geoms" id="toc-geom_-aka-geoms" class="nav-link" data-scroll-target="#geom_-aka-geoms"><span class="header-section-number">7.1</span> <code>geom_*()</code> aka geoms</a></li>
  <li><a href="#geom_histogram" id="toc-geom_histogram" class="nav-link" data-scroll-target="#geom_histogram"><span class="header-section-number">7.2</span> <code>geom_histogram()</code></a></li>
  <li><a href="#geom_histogram-1" id="toc-geom_histogram-1" class="nav-link" data-scroll-target="#geom_histogram-1"><span class="header-section-number">7.3</span> <code>geom_histogram()</code></a></li>
  <li><a href="#geom_histogram-2" id="toc-geom_histogram-2" class="nav-link" data-scroll-target="#geom_histogram-2"><span class="header-section-number">7.4</span> <code>geom_histogram()</code></a></li>
  <li><a href="#geom_histogram-3" id="toc-geom_histogram-3" class="nav-link" data-scroll-target="#geom_histogram-3"><span class="header-section-number">7.5</span> <code>geom_histogram()</code></a></li>
  <li><a href="#geom_histogram-4" id="toc-geom_histogram-4" class="nav-link" data-scroll-target="#geom_histogram-4"><span class="header-section-number">7.6</span> <code>geom_histogram()</code></a></li>
  <li><a href="#geom_density" id="toc-geom_density" class="nav-link" data-scroll-target="#geom_density"><span class="header-section-number">7.7</span> <code>geom_density()</code></a></li>
  <li><a href="#geom_density-1" id="toc-geom_density-1" class="nav-link" data-scroll-target="#geom_density-1"><span class="header-section-number">7.8</span> <code>geom_density()</code></a></li>
  <li><a href="#geom_density-2" id="toc-geom_density-2" class="nav-link" data-scroll-target="#geom_density-2"><span class="header-section-number">7.9</span> <code>geom_density()</code></a></li>
  <li><a href="#geom_density-3" id="toc-geom_density-3" class="nav-link" data-scroll-target="#geom_density-3"><span class="header-section-number">7.10</span> <code>geom_density()</code></a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="data-visualization-1.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Visualization Day 1</h1>
<p class="subtitle lead">Data Science for Studying Language and the Mind</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Katie Schuler </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 3, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="announcements" class="level2" data-number="0.1">
<h2 data-number="0.1" class="anchored" data-anchor-id="announcements"><span class="header-section-number">0.1</span> Announcements</h2>
<ul>
<li>Permits are being issued today!
<ul>
<li>First, for students dropped due to the rescheduled lab</li>
<li>Next, for students on the waitlist</li>
</ul></li>
<li>If you are unable to request a permit in Path @ Penn, please send me an email to let me know
<ul>
<li>These are the <a href="https://apps.srfs.upenn.edu:44306/secure/Pennant-Training/Path-Request-Permission-to-Take-a-Class.pdf">instructions</a></li>
</ul></li>
<li>The Friday 12pm lab has 8 more seats 🙂</li>
</ul>
<hr>
<div id="fig-rlearning" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" width="100%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-rlearning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../assests/images/Rlearning.png" id="fig-rlearning" class="img-fluid quarto-figure quarto-figure-center anchored figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-rlearning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1
</figcaption>
</figure>
</div>
</section>
<section id="you-are-here" class="level2 smaller" data-number="0.2">
<h2 class="smaller anchored" data-number="0.2" data-anchor-id="you-are-here"><span class="header-section-number">0.2</span> You are <code>here</code></h2>
<div class="columns">
<div class="column" style="width:33%;">
<section id="data-science-with-r" class="level5" data-number="0.2.0.0.1">
<h5 data-number="0.2.0.0.1" class="anchored" data-anchor-id="data-science-with-r"><span class="header-section-number">0.2.0.0.1</span> Data science with R</h5>
<div class="nonincremental">
<ul>
<li>R basics</li>
<li><code>Data visualization</code></li>
<li>Data wrangling</li>
</ul>
</div>
</section>
</div><div class="column" style="width:33%;">
<section id="stats-model-buidling" class="level5" data-number="0.2.0.0.2">
<h5 data-number="0.2.0.0.2" class="anchored" data-anchor-id="stats-model-buidling"><span class="header-section-number">0.2.0.0.2</span> Stats &amp; Model buidling</h5>
<div class="nonincremental">
<ul>
<li>Sampling distribution</li>
<li>Hypothesis testing</li>
<li>Model specification</li>
<li>Model fitting</li>
<li>Model accuracy</li>
<li>Model reliability</li>
</ul>
</div>
</section>
</div><div class="column" style="width:33%;">
<section id="more-advanced" class="level5" data-number="0.2.0.0.3">
<h5 data-number="0.2.0.0.3" class="anchored" data-anchor-id="more-advanced"><span class="header-section-number">0.2.0.0.3</span> More advanced</h5>
<div class="nonincremental">
<ul>
<li>Classification</li>
<li>Inference for regression</li>
<li>Mixed-effect models</li>
</ul>
</div>
</section>
</div>
</div>
</section>
<section id="acknowledgements" class="level1 page-columns page-full" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Acknowledgements</h1>
<p>Adapted from <a href="https://r4ds.hadley.nz/data-visualize">R for Data Science Ch 2</a> and some materials by Dr.&nbsp;Colin Rundel at Duke</p>
<section id="why-visualize" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="why-visualize"><span class="header-section-number">1.1</span> Why visualize?</h2>
<blockquote class="blockquote">
<p>“The simple graph has brought more information to the data analyst’s mind than any other device.” — John Tukey</p>
</blockquote>
</section>
<section id="why-visualize-1" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="why-visualize-1"><span class="header-section-number">1.2</span> Why visualize?</h2>
<blockquote class="blockquote">
<p>“<code>Visualization</code> is a fundamentally human activity. A good visualization will show you things you did not expect or raise new questions about the data. A good visualization might also hint that you’re asking the wrong question or that you need to collect different data. Visualizations can surprise you, but they don’t scale particularly well because they require a human to interpret them.” – R4DS</p>
</blockquote>
</section>
<section id="datasaurus-dozen" class="level2 smaller page-columns page-full" data-number="1.3">
<h2 class="smaller anchored" data-number="1.3" data-anchor-id="datasaurus-dozen"><span class="header-section-number">1.3</span> Datasaurus dozen</h2>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 × 6
   dataset    mean_x mean_y std_dev_x std_dev_y corr_x_y
   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
 1 away         54.3   47.8      16.8      26.9  -0.0641
 2 bullseye     54.3   47.8      16.8      26.9  -0.0686
 3 circle       54.3   47.8      16.8      26.9  -0.0683
 4 dino         54.3   47.8      16.8      26.9  -0.0645
 5 dots         54.3   47.8      16.8      26.9  -0.0603
 6 h_lines      54.3   47.8      16.8      26.9  -0.0617
 7 high_lines   54.3   47.8      16.8      26.9  -0.0685
 8 slant_down   54.3   47.8      16.8      26.9  -0.0690
 9 slant_up     54.3   47.8      16.8      26.9  -0.0686
10 star         54.3   47.8      16.8      26.9  -0.0630
11 v_lines      54.3   47.8      16.8      26.9  -0.0694
12 wide_lines   54.3   47.8      16.8      26.9  -0.0666
13 x_shape      54.3   47.8      16.8      26.9  -0.0656</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>Datasaurus was created by Alberto Cairo, <code>library(datasauRus)</code></p>
</div></div></section>
<section id="datasaurus-dozen-1" class="level2 smaller page-columns page-full" data-number="1.4">
<h2 class="smaller anchored" data-number="1.4" data-anchor-id="datasaurus-dozen-1"><span class="header-section-number">1.4</span> Datasaurus dozen</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>Datasaurus was created by Alberto Cairo</p>
</div></div></section>
<section id="ggplot2" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="ggplot2"><span class="header-section-number">1.5</span> ggplot2</h2>
<div id="fig-ggplothexlogo" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" width="20%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplothexlogo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../assests/images/ggplot-hexlogo.png" id="fig-ggplothexlogo" class="img-fluid quarto-figure quarto-figure-center anchored figure-img" style="width:20.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-ggplothexlogo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2
</figcaption>
</figure>
</div>
</section>
<section id="using-ggplot2" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="using-ggplot2"><span class="header-section-number">1.6</span> Using <code>ggplot2</code></h2>
<p>Google Colab already has <code>ggplot2</code> installed by default. There is no need to run <code>install.packages()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="why-ggplot2" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="why-ggplot2"><span class="header-section-number">1.7</span> Why ggplot2?</h2>
<blockquote class="blockquote">
<p>“R has several systems for making graphs, but ggplot2 is one of the most elegant and most versatile. ggplot2 implements the <code>grammar of graphics</code>, a coherent system for describing and building graphs. With ggplot2, you can do more and faster by learning one system and applying it in many places.” – R4DS</p>
</blockquote>
</section>
<section id="ggplot2s-grammar-of-graphics" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="ggplot2s-grammar-of-graphics"><span class="header-section-number">1.8</span> ggplot2’s grammar of graphics</h2>
<div id="fig-gglayers" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" width="100%">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gglayers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../assests/images/gglayers.png" id="fig-gglayers" class="img-fluid quarto-figure quarto-figure-center anchored figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-gglayers-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3
</figcaption>
</figure>
</div>
</section>
<section id="todays-data-ratings" class="level2 smaller" data-number="1.9">
<h2 class="smaller anchored" data-number="1.9" data-anchor-id="todays-data-ratings"><span class="header-section-number">1.9</span> Today’s data: <code>ratings</code></h2>
<blockquote class="blockquote">
<p>Subjective frequency ratings, ratings of estimated weight, and ratings of estimated size, averaged over subjects, for 81 concrete English nouns. – languageR</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(languageR)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(ratings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   81 obs. of  14 variables:
 $ Word            : Factor w/ 81 levels "almond","ant",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ Frequency       : num  4.2 5.35 6.3 3.83 3.66 ...
 $ FamilySize      : num  0 1.39 1.1 0 0 ...
 $ SynsetCount     : num  1.1 1.1 1.1 1.39 1.1 ...
 $ Length          : int  6 3 5 7 9 7 6 6 3 6 ...
 $ Class           : Factor w/ 2 levels "animal","plant": 2 1 2 2 2 2 1 2 1 1 ...
 $ FreqSingular    : int  24 69 315 26 19 24 53 74 155 37 ...
 $ FreqPlural      : int  42 140 231 19 19 6 78 77 103 14 ...
 $ DerivEntropy    : num  0 0.562 0.496 0 0 ...
 $ Complex         : Factor w/ 2 levels "complex","simplex": 2 2 2 2 2 2 2 2 2 2 ...
 $ rInfl           : num  -0.542 -0.7 0.309 0.3 0 ...
 $ meanWeightRating: num  1.49 3.35 2.19 1.32 1.44 ...
 $ meanSizeRating  : num  1.89 3.63 2.47 1.76 1.87 ...
 $ meanFamiliarity : num  3.72 3.6 5.84 4.4 3.68 4.12 2.12 5.68 3.2 2.2 ...</code></pre>
</div>
</div>
</section>
<section id="todays-data-ratings-1" class="level2 smaller" data-number="1.10">
<h2 class="smaller anchored" data-number="1.10" data-anchor-id="todays-data-ratings-1"><span class="header-section-number">1.10</span> Today’s data: <code>ratings</code></h2>
<p>We will make use of the following variables:</p>
<ol type="1">
<li><code>Frequency</code> - actual word frequency</li>
<li><code>meanFamiliarity</code> - subjective frequency rating</li>
<li><code>Class</code> - whether word is a plant or animal</li>
</ol>
<p>. . .</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   81 obs. of  4 variables:
 $ Word           : Factor w/ 81 levels "almond","ant",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ Frequency      : num  4.2 5.35 6.3 3.83 3.66 ...
 $ meanFamiliarity: num  3.72 3.6 5.84 4.4 3.68 4.12 2.12 5.68 3.2 2.2 ...
 $ Class          : Factor w/ 2 levels "animal","plant": 2 1 2 2 2 2 1 2 1 1 ...</code></pre>
</div>
</div>
</section>
<section id="todays-goal" class="level2 smaller" data-number="1.11">
<h2 class="smaller anchored" data-number="1.11" data-anchor-id="todays-goal"><span class="header-section-number">1.11</span> Today’s goal</h2>
<p>Create this figure showing the relationship between actual frequency and subjective frequency rating of each word, considering the class the word belongs to</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="the-basic-ggplot" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> The basic ggplot</h1>
<ol type="1">
<li>Using your <code>data</code></li>
<li>define how variables in your dataset are mapped to visual properties (<code>aesthetics</code>)</li>
<li>determine the geometrical object that a plot uses to represent data (<code>geom</code>)</li>
</ol>
<section id="data" class="level2 smaller" data-number="2.1">
<h2 class="smaller anchored" data-number="2.1" data-anchor-id="data"><span class="header-section-number">2.1</span> 1 <code>data</code></h2>
<blockquote class="blockquote">
<p>Use <code>ratings</code> data</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>    <span class="at">data =</span> ratings</span>
<span id="cb7-3"><a href="#cb7-3"></a> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="aesthetic-mapping" class="level2 smaller" data-number="2.2">
<h2 class="smaller anchored" data-number="2.2" data-anchor-id="aesthetic-mapping"><span class="header-section-number">2.2</span> 2 <code>aesthetic mapping</code></h2>
<blockquote class="blockquote">
<p>Map <code>Frequency</code> to x-axis and <code>meanFamiliarity</code> to y-axis.</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb8-2"><a href="#cb8-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb8-3"><a href="#cb8-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb8-4"><a href="#cb8-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb8-5"><a href="#cb8-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb8-6"><a href="#cb8-6"></a>    )</span>
<span id="cb8-7"><a href="#cb8-7"></a> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom" class="level2 smaller" data-number="2.3">
<h2 class="smaller anchored" data-number="2.3" data-anchor-id="geom"><span class="header-section-number">2.3</span> 3 <code>geom</code></h2>
<blockquote class="blockquote">
<p>Represent each value with a point.</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb9-2"><a href="#cb9-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb9-3"><a href="#cb9-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb9-4"><a href="#cb9-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb9-5"><a href="#cb9-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb9-6"><a href="#cb9-6"></a>    )</span>
<span id="cb9-7"><a href="#cb9-7"></a> ) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="adding-to-the-basics" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Adding to the basics</h1>
<section id="mapping-categorical-variables" class="level2 smaller" data-number="3.1">
<h2 class="smaller anchored" data-number="3.1" data-anchor-id="mapping-categorical-variables"><span class="header-section-number">3.1</span> Mapping categorical variables</h2>
<blockquote class="blockquote">
<p>When a categorical variable is mapped to an aesthetic, ggplot2 will automatically assign a unique value of the aesthetic (here color) … a process known as <code>scaling</code>. – R4DS</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb10-2"><a href="#cb10-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb10-3"><a href="#cb10-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb10-4"><a href="#cb10-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb10-5"><a href="#cb10-5"></a>        <span class="at">y =</span> meanFamiliarity,</span>
<span id="cb10-6"><a href="#cb10-6"></a>        <span class="at">color =</span> Class</span>
<span id="cb10-7"><a href="#cb10-7"></a>    )</span>
<span id="cb10-8"><a href="#cb10-8"></a> ) <span class="sc">+</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="global-vs.-local-aesthetics" class="level2 smaller" data-number="3.2">
<h2 class="smaller anchored" data-number="3.2" data-anchor-id="global-vs.-local-aesthetics"><span class="header-section-number">3.2</span> Global vs.&nbsp;local <code>aesthetics</code></h2>
<ul>
<li><strong>globally</strong> in <code>ggplot()</code>, which are passed down to all geoms</li>
<li><strong>locally</strong> in <code>geom_*()</code> which are used by that geom only</li>
</ul>
<p>. . .</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb11-2"><a href="#cb11-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb11-3"><a href="#cb11-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb11-4"><a href="#cb11-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb11-5"><a href="#cb11-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb11-6"><a href="#cb11-6"></a>    )</span>
<span id="cb11-7"><a href="#cb11-7"></a> ) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb11-9"><a href="#cb11-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class)</span>
<span id="cb11-10"><a href="#cb11-10"></a>    ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mapping-vs.-setting-aesthetics" class="level2 smaller" data-number="3.3">
<h2 class="smaller anchored" data-number="3.3" data-anchor-id="mapping-vs.-setting-aesthetics"><span class="header-section-number">3.3</span> Mapping vs.&nbsp;setting <code>aesthetics</code></h2>
<ul>
<li>mapping allows us to determine a geom’s aesthetics based on a variable, and is passed as argument in <code>aes()</code></li>
<li>setting allows us to set a geom’s aestheics to a constant value (not based on any variable), and passed as argument in <code>geom_*()</code> directly</li>
</ul>
<p>. . .</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb12-2"><a href="#cb12-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb12-3"><a href="#cb12-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb12-4"><a href="#cb12-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb12-5"><a href="#cb12-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb12-6"><a href="#cb12-6"></a>    )</span>
<span id="cb12-7"><a href="#cb12-7"></a> ) <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb12-9"><a href="#cb12-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class), </span>
<span id="cb12-10"><a href="#cb12-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb12-11"><a href="#cb12-11"></a>    ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="labels" class="level1 page-columns page-full" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Labels</h1>
<section id="labels-title-and-subtitle" class="level2 smaller" data-number="4.1">
<h2 class="smaller anchored" data-number="4.1" data-anchor-id="labels-title-and-subtitle"><span class="header-section-number">4.1</span> <code>labels</code>: title and subtitle</h2>
<blockquote class="blockquote">
<p>Add title “Subjective frequency ratings” with subtitle “for 81 english nouns”</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb13-2"><a href="#cb13-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb13-3"><a href="#cb13-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb13-4"><a href="#cb13-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb13-5"><a href="#cb13-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb13-6"><a href="#cb13-6"></a>    )</span>
<span id="cb13-7"><a href="#cb13-7"></a> ) <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb13-9"><a href="#cb13-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class), </span>
<span id="cb13-10"><a href="#cb13-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>    ) <span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12"></a>  <span class="fu">labs</span>(</span>
<span id="cb13-13"><a href="#cb13-13"></a>    <span class="at">title =</span> <span class="st">"Subjective frequency ratings"</span>, </span>
<span id="cb13-14"><a href="#cb13-14"></a>    <span class="at">subtitle =</span> <span class="st">"for 81 english nouns"</span></span>
<span id="cb13-15"><a href="#cb13-15"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="labels-x-and-y-axis" class="level2 smaller page-columns page-full" data-number="4.2">
<h2 class="smaller anchored" data-number="4.2" data-anchor-id="labels-x-and-y-axis"><span class="header-section-number">4.2</span> <code>labels</code>: x and y axis</h2>
<blockquote class="blockquote">
<p>Label x-axis “Actual frequency” and y-axis “Frequency rating”</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb14-2"><a href="#cb14-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb14-3"><a href="#cb14-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb14-4"><a href="#cb14-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb14-5"><a href="#cb14-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb14-6"><a href="#cb14-6"></a>    )</span>
<span id="cb14-7"><a href="#cb14-7"></a> ) <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class), </span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>    ) <span class="sc">+</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>  <span class="fu">labs</span>(</span>
<span id="cb14-13"><a href="#cb14-13"></a>    <span class="at">title =</span> <span class="st">"Subjective frequency ratings"</span>, </span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="at">subtitle =</span> <span class="st">"for 81 english nouns"</span>,</span>
<span id="cb14-15"><a href="#cb14-15"></a>    <span class="at">x =</span> <span class="st">"Actual frequency"</span>,</span>
<span id="cb14-16"><a href="#cb14-16"></a>    <span class="at">y =</span> <span class="st">"Frequency rating"</span></span>
<span id="cb14-17"><a href="#cb14-17"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>Note these are mapped to the aesthetic (x and y)</p>
</div></div></section>
<section id="labels-legend" class="level2 smaller page-columns page-full" data-number="4.3">
<h2 class="smaller anchored" data-number="4.3" data-anchor-id="labels-legend"><span class="header-section-number">4.3</span> <code>labels</code>: legend</h2>
<blockquote class="blockquote">
<p>Label the legend “word class”.</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb15-2"><a href="#cb15-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb15-3"><a href="#cb15-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb15-4"><a href="#cb15-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb15-5"><a href="#cb15-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb15-6"><a href="#cb15-6"></a>    )</span>
<span id="cb15-7"><a href="#cb15-7"></a> ) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb15-9"><a href="#cb15-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class), </span>
<span id="cb15-10"><a href="#cb15-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb15-11"><a href="#cb15-11"></a>    ) <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12"></a>  <span class="fu">labs</span>(</span>
<span id="cb15-13"><a href="#cb15-13"></a>    <span class="at">title =</span> <span class="st">"Subjective frequency ratings"</span>, </span>
<span id="cb15-14"><a href="#cb15-14"></a>    <span class="at">subtitle =</span> <span class="st">"for 81 english nouns"</span>,</span>
<span id="cb15-15"><a href="#cb15-15"></a>    <span class="at">x =</span> <span class="st">"Actual frequency"</span>,</span>
<span id="cb15-16"><a href="#cb15-16"></a>    <span class="at">y =</span> <span class="st">"Frequency rating"</span>,</span>
<span id="cb15-17"><a href="#cb15-17"></a>    <span class="at">color =</span> <span class="st">"word class"</span></span>
<span id="cb15-18"><a href="#cb15-18"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>Note these are mapped to the aesthetic as well (color)</p>
</div></div></section>
</section>
<section id="theme-and-adjusting-scaling" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Theme and adjusting scaling</h1>
<section id="themes" class="level2 smaller" data-number="5.1">
<h2 class="smaller anchored" data-number="5.1" data-anchor-id="themes"><span class="header-section-number">5.1</span> <code>themes</code></h2>
<blockquote class="blockquote">
<p>Apply classic theme with base_size 20.</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb16-2"><a href="#cb16-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb16-3"><a href="#cb16-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb16-4"><a href="#cb16-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb16-5"><a href="#cb16-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb16-6"><a href="#cb16-6"></a>    )</span>
<span id="cb16-7"><a href="#cb16-7"></a> ) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb16-9"><a href="#cb16-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class), </span>
<span id="cb16-10"><a href="#cb16-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb16-11"><a href="#cb16-11"></a>    ) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-13"><a href="#cb16-13"></a>    <span class="at">title =</span> <span class="st">"Subjective frequency ratings"</span>, </span>
<span id="cb16-14"><a href="#cb16-14"></a>    <span class="at">subtitle =</span> <span class="st">"for 81 english nouns"</span>,</span>
<span id="cb16-15"><a href="#cb16-15"></a>    <span class="at">x =</span> <span class="st">"Actual frequency"</span>,</span>
<span id="cb16-16"><a href="#cb16-16"></a>    <span class="at">y =</span> <span class="st">"Frequency rating"</span>,</span>
<span id="cb16-17"><a href="#cb16-17"></a>    <span class="at">color =</span> <span class="st">"word class"</span></span>
<span id="cb16-18"><a href="#cb16-18"></a>  ) <span class="sc">+</span></span>
<span id="cb16-19"><a href="#cb16-19"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="scales-changing-color" class="level2 smaller" data-number="5.2">
<h2 class="smaller anchored" data-number="5.2" data-anchor-id="scales-changing-color"><span class="header-section-number">5.2</span> <code>scales</code>: changing color</h2>
<blockquote class="blockquote">
<p>Remember: When a categorical variable is mapped to an aesthetic, ggplot2 will automatically assign a unique value of the aesthetic (here color) … a process known as <code>scaling</code>. – R4DS</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb17-2"><a href="#cb17-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb17-3"><a href="#cb17-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb17-4"><a href="#cb17-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb17-5"><a href="#cb17-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb17-6"><a href="#cb17-6"></a>    )</span>
<span id="cb17-7"><a href="#cb17-7"></a> ) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb17-9"><a href="#cb17-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class), </span>
<span id="cb17-10"><a href="#cb17-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>    ) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-13"><a href="#cb17-13"></a>    <span class="at">title =</span> <span class="st">"Subjective frequency ratings"</span>, </span>
<span id="cb17-14"><a href="#cb17-14"></a>    <span class="at">subtitle =</span> <span class="st">"for 81 english nouns"</span>,</span>
<span id="cb17-15"><a href="#cb17-15"></a>    <span class="at">x =</span> <span class="st">"Actual frequency"</span>,</span>
<span id="cb17-16"><a href="#cb17-16"></a>    <span class="at">y =</span> <span class="st">"Frequency rating"</span>,</span>
<span id="cb17-17"><a href="#cb17-17"></a>    <span class="at">color =</span> <span class="st">"word class"</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>  ) <span class="sc">+</span></span>
<span id="cb17-19"><a href="#cb17-19"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb17-20"><a href="#cb17-20"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Paired"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="aesthetics" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Aesthetics</h1>
<section id="color" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="color"><span class="header-section-number">6.1</span> color</h2>
<p>Map the color aesthetic to a variable</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb18-2"><a href="#cb18-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb18-3"><a href="#cb18-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb18-4"><a href="#cb18-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb18-5"><a href="#cb18-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb18-6"><a href="#cb18-6"></a>    )</span>
<span id="cb18-7"><a href="#cb18-7"></a> ) <span class="sc">+</span></span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb18-9"><a href="#cb18-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class),</span>
<span id="cb18-10"><a href="#cb18-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb18-11"><a href="#cb18-11"></a>    ) <span class="sc">+</span></span>
<span id="cb18-12"><a href="#cb18-12"></a> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="color-1" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="color-1"><span class="header-section-number">6.2</span> color</h2>
<p>Set a constant value for the color aesthetic</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb19-2"><a href="#cb19-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb19-3"><a href="#cb19-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb19-4"><a href="#cb19-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb19-5"><a href="#cb19-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb19-6"><a href="#cb19-6"></a>    )</span>
<span id="cb19-7"><a href="#cb19-7"></a> ) <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb19-9"><a href="#cb19-9"></a>    <span class="at">color =</span> <span class="st">"blue"</span>,</span>
<span id="cb19-10"><a href="#cb19-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>    ) <span class="sc">+</span></span>
<span id="cb19-12"><a href="#cb19-12"></a> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="size" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="size"><span class="header-section-number">6.3</span> size</h2>
<p>Setting a constant value for the size aesthetic</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb20-2"><a href="#cb20-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb20-3"><a href="#cb20-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb20-4"><a href="#cb20-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb20-5"><a href="#cb20-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb20-6"><a href="#cb20-6"></a>    )</span>
<span id="cb20-7"><a href="#cb20-7"></a> ) <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb20-9"><a href="#cb20-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Class),</span>
<span id="cb20-10"><a href="#cb20-10"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb20-11"><a href="#cb20-11"></a>    ) <span class="sc">+</span></span>
<span id="cb20-12"><a href="#cb20-12"></a> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="size-1" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="size-1"><span class="header-section-number">6.4</span> size</h2>
<p>Mapped the size aesthetic to a variable</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb21-2"><a href="#cb21-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb21-3"><a href="#cb21-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb21-4"><a href="#cb21-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb21-5"><a href="#cb21-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb21-6"><a href="#cb21-6"></a>    )</span>
<span id="cb21-7"><a href="#cb21-7"></a> ) <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb21-9"><a href="#cb21-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb21-10"><a href="#cb21-10"></a>        <span class="at">color =</span> Class,</span>
<span id="cb21-11"><a href="#cb21-11"></a>        <span class="at">size =</span> Complex</span>
<span id="cb21-12"><a href="#cb21-12"></a>    ),</span>
<span id="cb21-13"><a href="#cb21-13"></a>    ) <span class="sc">+</span></span>
<span id="cb21-14"><a href="#cb21-14"></a> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using size for a discrete variable is not advised.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="shape" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="shape"><span class="header-section-number">6.5</span> shape</h2>
<p>Map the shape aesthetic to a different variable</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb23-2"><a href="#cb23-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb23-3"><a href="#cb23-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb23-4"><a href="#cb23-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb23-5"><a href="#cb23-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb23-6"><a href="#cb23-6"></a>    )</span>
<span id="cb23-7"><a href="#cb23-7"></a> ) <span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb23-9"><a href="#cb23-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb23-10"><a href="#cb23-10"></a>        <span class="at">color =</span> Class,</span>
<span id="cb23-11"><a href="#cb23-11"></a>        <span class="at">shape =</span> Complex),</span>
<span id="cb23-12"><a href="#cb23-12"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb23-13"><a href="#cb23-13"></a>    ) <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14"></a> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="shape-1" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="shape-1"><span class="header-section-number">6.6</span> shape</h2>
<p>Map the shape aesthetic to the same variable</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb24-2"><a href="#cb24-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb24-3"><a href="#cb24-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb24-4"><a href="#cb24-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb24-5"><a href="#cb24-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb24-6"><a href="#cb24-6"></a>    )</span>
<span id="cb24-7"><a href="#cb24-7"></a> ) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb24-9"><a href="#cb24-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb24-10"><a href="#cb24-10"></a>        <span class="at">color =</span> Class,</span>
<span id="cb24-11"><a href="#cb24-11"></a>        <span class="at">shape =</span> Class),</span>
<span id="cb24-12"><a href="#cb24-12"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb24-13"><a href="#cb24-13"></a>    ) <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14"></a> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="alpha" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="alpha"><span class="header-section-number">6.7</span> alpha</h2>
<p>Set a constant value for the alpha aesthetic</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb25-2"><a href="#cb25-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb25-3"><a href="#cb25-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb25-4"><a href="#cb25-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb25-5"><a href="#cb25-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb25-6"><a href="#cb25-6"></a>    )</span>
<span id="cb25-7"><a href="#cb25-7"></a> ) <span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb25-9"><a href="#cb25-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb25-10"><a href="#cb25-10"></a>        <span class="at">color =</span> Class,</span>
<span id="cb25-11"><a href="#cb25-11"></a>        <span class="at">shape =</span> Class),</span>
<span id="cb25-12"><a href="#cb25-12"></a>    <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb25-13"><a href="#cb25-13"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb25-14"><a href="#cb25-14"></a>    ) <span class="sc">+</span></span>
<span id="cb25-15"><a href="#cb25-15"></a> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="alpha-1" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="alpha-1"><span class="header-section-number">6.8</span> alpha</h2>
<p>Mapped to a variable</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb26-2"><a href="#cb26-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb26-3"><a href="#cb26-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb26-4"><a href="#cb26-4"></a>        <span class="at">x =</span> Frequency, </span>
<span id="cb26-5"><a href="#cb26-5"></a>        <span class="at">y =</span> meanFamiliarity</span>
<span id="cb26-6"><a href="#cb26-6"></a>    )</span>
<span id="cb26-7"><a href="#cb26-7"></a> ) <span class="sc">+</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>  <span class="fu">geom_point</span>( </span>
<span id="cb26-9"><a href="#cb26-9"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb26-10"><a href="#cb26-10"></a>        <span class="at">color =</span> Class,</span>
<span id="cb26-11"><a href="#cb26-11"></a>        <span class="at">shape =</span> Class,</span>
<span id="cb26-12"><a href="#cb26-12"></a>        <span class="at">alpha =</span> Length),</span>
<span id="cb26-13"><a href="#cb26-13"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb26-14"><a href="#cb26-14"></a>    ) <span class="sc">+</span></span>
<span id="cb26-15"><a href="#cb26-15"></a> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="geometric-objects" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Geometric objects</h1>
<section id="geom_-aka-geoms" class="level2 smaller" data-number="7.1">
<h2 class="smaller anchored" data-number="7.1" data-anchor-id="geom_-aka-geoms"><span class="header-section-number">7.1</span> <code>geom_*()</code> aka geoms</h2>
<p>There are <a href="https://ggplot2.tidyverse.org/reference/#geoms">many</a>. We will start with these, and add a few additional geoms as we move through the course:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 70%">
</colgroup>
<tbody>
<tr class="odd">
<td><code>geom_histogram()</code></td>
<td>histogram, distribution of a continuous variable</td>
</tr>
<tr class="even">
<td><code>geom_density()</code></td>
<td>distribution of a continuous variable</td>
</tr>
<tr class="odd">
<td><code>geom_bar()</code></td>
<td>distribution of a categorical data</td>
</tr>
<tr class="even">
<td><code>geom_point()</code></td>
<td>scatterplot</td>
</tr>
<tr class="odd">
<td><code>geom_smooth()</code></td>
<td>smoothed line of best fit</td>
</tr>
</tbody>
</table>
</section>
<section id="geom_histogram" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="geom_histogram"><span class="header-section-number">7.2</span> <code>geom_histogram()</code></h2>
<blockquote class="blockquote">
<p>A histogram divides the x-axis into equally spaced bins and then uses the height of a bar to display the number of observations that fall in each bin. – R4DS</p>
</blockquote>
<p>. . .</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb27-2"><a href="#cb27-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb27-3"><a href="#cb27-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb27-4"><a href="#cb27-4"></a>        <span class="at">x =</span> meanFamiliarity</span>
<span id="cb27-5"><a href="#cb27-5"></a>    )</span>
<span id="cb27-6"><a href="#cb27-6"></a>) <span class="sc">+</span> </span>
<span id="cb27-7"><a href="#cb27-7"></a>    <span class="fu">geom_histogram</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_histogram-1" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="geom_histogram-1"><span class="header-section-number">7.3</span> <code>geom_histogram()</code></h2>
<p>bins - How many bins should we have?</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb29-2"><a href="#cb29-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb29-3"><a href="#cb29-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb29-4"><a href="#cb29-4"></a>        <span class="at">x =</span> meanFamiliarity</span>
<span id="cb29-5"><a href="#cb29-5"></a>    )</span>
<span id="cb29-6"><a href="#cb29-6"></a>) <span class="sc">+</span> </span>
<span id="cb29-7"><a href="#cb29-7"></a>    <span class="fu">geom_histogram</span>(</span>
<span id="cb29-8"><a href="#cb29-8"></a>        <span class="at">bins =</span> <span class="dv">10</span></span>
<span id="cb29-9"><a href="#cb29-9"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_histogram-2" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="geom_histogram-2"><span class="header-section-number">7.4</span> <code>geom_histogram()</code></h2>
<p>binwidth - How wide should the bins be?</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb30-2"><a href="#cb30-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb30-3"><a href="#cb30-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb30-4"><a href="#cb30-4"></a>        <span class="at">x =</span> meanFamiliarity</span>
<span id="cb30-5"><a href="#cb30-5"></a>    )</span>
<span id="cb30-6"><a href="#cb30-6"></a>) <span class="sc">+</span> </span>
<span id="cb30-7"><a href="#cb30-7"></a>    <span class="fu">geom_histogram</span>(</span>
<span id="cb30-8"><a href="#cb30-8"></a>        <span class="at">binwidth =</span> <span class="fl">0.25</span></span>
<span id="cb30-9"><a href="#cb30-9"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_histogram-3" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="geom_histogram-3"><span class="header-section-number">7.5</span> <code>geom_histogram()</code></h2>
<p>color - What should the outline color be?</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb31-2"><a href="#cb31-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb31-4"><a href="#cb31-4"></a>        <span class="at">x =</span> meanFamiliarity</span>
<span id="cb31-5"><a href="#cb31-5"></a>    )</span>
<span id="cb31-6"><a href="#cb31-6"></a>) <span class="sc">+</span> </span>
<span id="cb31-7"><a href="#cb31-7"></a>    <span class="fu">geom_histogram</span>(</span>
<span id="cb31-8"><a href="#cb31-8"></a>        <span class="at">binwidth =</span> <span class="fl">0.25</span>,</span>
<span id="cb31-9"><a href="#cb31-9"></a>        <span class="at">color =</span> <span class="st">"red"</span></span>
<span id="cb31-10"><a href="#cb31-10"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_histogram-4" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="geom_histogram-4"><span class="header-section-number">7.6</span> <code>geom_histogram()</code></h2>
<p>fill - What should the fill color be?</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb32-2"><a href="#cb32-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb32-3"><a href="#cb32-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb32-4"><a href="#cb32-4"></a>        <span class="at">x =</span> meanFamiliarity</span>
<span id="cb32-5"><a href="#cb32-5"></a>    )</span>
<span id="cb32-6"><a href="#cb32-6"></a>) <span class="sc">+</span> </span>
<span id="cb32-7"><a href="#cb32-7"></a>    <span class="fu">geom_histogram</span>(</span>
<span id="cb32-8"><a href="#cb32-8"></a>        <span class="at">binwidth =</span> <span class="fl">0.25</span>,</span>
<span id="cb32-9"><a href="#cb32-9"></a>        <span class="at">color =</span> <span class="st">"red"</span>,</span>
<span id="cb32-10"><a href="#cb32-10"></a>        <span class="at">fill =</span> <span class="st">"lightblue"</span></span>
<span id="cb32-11"><a href="#cb32-11"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_density" class="level2 smaller" data-number="7.7">
<h2 class="smaller anchored" data-number="7.7" data-anchor-id="geom_density"><span class="header-section-number">7.7</span> <code>geom_density()</code></h2>
<blockquote class="blockquote">
<p>Imagine a histogram made out of wooden blocks. Then, imagine that you drop a cooked spaghetti string over it. The shape the spaghetti will take draped over blocks can be thought of as the shape of the density curve. – R4DS</p>
</blockquote>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb33-2"><a href="#cb33-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb33-3"><a href="#cb33-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb33-4"><a href="#cb33-4"></a>        <span class="at">x =</span> meanFamiliarity</span>
<span id="cb33-5"><a href="#cb33-5"></a>    )</span>
<span id="cb33-6"><a href="#cb33-6"></a>) <span class="sc">+</span> </span>
<span id="cb33-7"><a href="#cb33-7"></a>    <span class="fu">geom_density</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_density-1" class="level2" data-number="7.8">
<h2 data-number="7.8" class="anchored" data-anchor-id="geom_density-1"><span class="header-section-number">7.8</span> <code>geom_density()</code></h2>
<p>Map Class to color aesthetic</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb34-2"><a href="#cb34-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb34-3"><a href="#cb34-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb34-4"><a href="#cb34-4"></a>        <span class="at">x =</span> meanFamiliarity,</span>
<span id="cb34-5"><a href="#cb34-5"></a>        <span class="at">color =</span> Class</span>
<span id="cb34-6"><a href="#cb34-6"></a>    )</span>
<span id="cb34-7"><a href="#cb34-7"></a>) <span class="sc">+</span> </span>
<span id="cb34-8"><a href="#cb34-8"></a>    <span class="fu">geom_density</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_density-2" class="level2" data-number="7.9">
<h2 data-number="7.9" class="anchored" data-anchor-id="geom_density-2"><span class="header-section-number">7.9</span> <code>geom_density()</code></h2>
<p>Set linewidth</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb35-2"><a href="#cb35-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb35-3"><a href="#cb35-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb35-4"><a href="#cb35-4"></a>        <span class="at">x =</span> meanFamiliarity,</span>
<span id="cb35-5"><a href="#cb35-5"></a>        <span class="at">color =</span> Class</span>
<span id="cb35-6"><a href="#cb35-6"></a>    )</span>
<span id="cb35-7"><a href="#cb35-7"></a>) <span class="sc">+</span> </span>
<span id="cb35-8"><a href="#cb35-8"></a>    <span class="fu">geom_density</span>(<span class="at">linewidth =</span> <span class="dv">2</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_density-3" class="level2" data-number="7.10">
<h2 data-number="7.10" class="anchored" data-anchor-id="geom_density-3"><span class="header-section-number">7.10</span> <code>geom_density()</code></h2>
<p>Map Class to fill and set alpha</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb36-2"><a href="#cb36-2"></a>    <span class="at">data =</span> ratings,</span>
<span id="cb36-3"><a href="#cb36-3"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb36-4"><a href="#cb36-4"></a>        <span class="at">x =</span> meanFamiliarity,</span>
<span id="cb36-5"><a href="#cb36-5"></a>        <span class="at">fill =</span> Class</span>
<span id="cb36-6"><a href="#cb36-6"></a>    )</span>
<span id="cb36-7"><a href="#cb36-7"></a>) <span class="sc">+</span> </span>
<span id="cb36-8"><a href="#cb36-8"></a>    <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data-visualization-1_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<!-- 
## `geom_bar()` {.smaller}

> To examine the distribution of a categorical variable, you can use a bar chart. The height of the bars displays how many observations occurred with each x value. -- R4DS





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="8"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Class
    )
) + 
    geom_bar()
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-35-1.png){width=672}
:::
:::





## `geom_bar()` - stacked {.smaller}

We can use stacked bar plots to visualize the relationship between two categorical variables





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="5"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Class,
        fill = Complex
    )
) + 
    geom_bar()
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-36-1.png){width=672}
:::
:::





## `geom_bar()` - relative frequency {.smaller}

We can use relative frequency to visualize the relationship between two categorical variables (as a percentage)





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="8"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Class,
        fill = Complex
    )
) + 
    geom_bar(position = "fill")
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-37-1.png){width=672}
:::
:::





## `geom_bar()` - dodged {.smaller}

We can use a dodged bar plot to visualize the relationship between two categorical variables side-by-side, not stacked





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="8"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Class,
        fill = Complex
    )
) + 
    geom_bar(position = "dodge")
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-38-1.png){width=672}
:::
:::





## `geom_point()` {.smaller}

> Scatterplots are useful for displaying the relationship between two numerical variables -- R4DS

. . . 






::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="8-11"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point( 
    color = "blue", 
    size = 3
    ) +
  labs(
    title = "Subjective frequency ratings", 
    subtitle = "for 81 english nouns",
    x = "Actual frequency",
    y = "Frequency rating",
    color = "word class"
  ) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-39-1.png){width=672}
:::
:::





## `geom_point()` with `geom_smooth()` {.smaller}

draws a best fitting curve 





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="12"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point( 
    color = "blue", 
    size = 3
    ) +
  geom_smooth() +
  labs(
    title = "Subjective frequency ratings", 
    subtitle = "for 81 english nouns",
    x = "Actual frequency",
    y = "Frequency rating",
    color = "word class"
  ) +
  theme_classic(base_size = 20) 
```

::: {.cell-output .cell-output-stderr}

```
`geom_smooth()` using method = 'loess' and formula = 'y ~ x'
```


:::

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-40-1.png){width=672}
:::
:::





## `geom_point()` with `geom_smooth(method="lm")` {.smaller}

draws the best fitting linear model





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="12"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point( 
    color = "blue", 
    size = 3
    ) +
  geom_smooth(method="lm") +
  labs(
    title = "Subjective frequency ratings", 
    subtitle = "for 81 english nouns",
    x = "Actual frequency",
    y = "Frequency rating",
    color = "word class"
  ) +
  theme_classic(base_size = 20) 
```

::: {.cell-output .cell-output-stderr}

```
`geom_smooth()` using formula = 'y ~ x'
```


:::

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-41-1.png){width=672}
:::
:::





## `geom_point()` with `geom_smooth(method="lm")` {.smaller}

We can also map to color, by specifying globally





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="6"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity,
        color = Class
    )
 ) +
  geom_point( 
    size = 3
    ) +
  geom_smooth(method="lm") +
  labs(
    title = "Subjective frequency ratings", 
    subtitle = "for 81 english nouns",
    x = "Actual frequency",
    y = "Frequency rating",
    color = "word class"
  ) +
  theme_classic(base_size = 20) 
```

::: {.cell-output .cell-output-stderr}

```
`geom_smooth()` using formula = 'y ~ x'
```


:::

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-42-1.png){width=672}
:::
:::





## `geom_point()` with `geom_smooth(method="lm")` {.smaller}

Or include only a single smooth, by specifying color in the point geom only





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="9"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point( 
    aes(color = Class),
    size = 3
    ) +
  geom_smooth(method="lm") +
  labs(
    title = "Subjective frequency ratings", 
    subtitle = "for 81 english nouns",
    x = "Actual frequency",
    y = "Frequency rating",
    color = "word class"
  ) +
  theme_classic(base_size = 20) 
```

::: {.cell-output .cell-output-stderr}

```
`geom_smooth()` using formula = 'y ~ x'
```


:::

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-43-1.png){width=672}
:::
:::







# Facets 

smaller plots that display different subsets of data

## `facet_grid()`





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="9"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point() +
  facet_grid(Class ~ Complex) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-44-1.png){width=672}
:::
:::





## `facet_grid()` {.smaller}





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="9"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point() +
  facet_grid(Class ~ Complex) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-45-1.png){width=672}
:::
:::





. . . 





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="9"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point(
    aes(color = Class, shape = Complex)
  ) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-46-1.png){width=672}
:::
:::






## `facet_grid()` - just columns {.smaller}

and note we can still map other aesthetics!





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="9"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point() +
  facet_grid(. ~ Complex) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-47-1.png){width=672}
:::
:::





## `facet_grid()` - just columns {.smaller}

and note we can still map other aesthetics!





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="8-11"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point(
    aes(color = Class),
    shape = "triangle"
  ) +
  facet_grid(. ~ Complex) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-48-1.png){width=672}
:::
:::







## `facet_grid()` - just rows {.smaller}





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="9"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point() +
  facet_grid(Class ~ .) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-49-1.png){width=672}
:::
:::






## `facet_wrap()`  {.smaller}





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="9"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point() +
  facet_wrap(~ Class) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-50-1.png){width=672}
:::
:::





## `facet_wrap()` - number of columns {.smaller}





::: {.cell output-location='column'}

```{.r .cell-code  code-line-numbers="9"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point() +
  facet_wrap(~ Class, ncol = 1) +
  theme_classic(base_size = 20) 
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-51-1.png){width=672}
:::
:::





# Helper functions 

## remember our goal plot? {.smaller}





::: {.cell output-location='column'}

```{.r .cell-code}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency, 
        y = meanFamiliarity
    )
 ) +
  geom_point( 
    mapping = aes(color = Class), 
    size = 3
    ) +
  labs(
    title = "Subjective frequency ratings", 
    subtitle = "for 81 english nouns",
    x = "Actual frequency",
    y = "Frequency rating",
    color = "word class"
  ) +
  theme_classic(base_size = 20) +
  scale_color_brewer(palette = "Paired")
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-52-1.png){width=672}
:::
:::





## `last_plot()` {.smaller}

returns the last plot





::: {.cell}

```{.r .cell-code}
last_plot()
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-53-1.png){width=672}
:::
:::





## `ggsave()` 

saves last plot

```r
ggsave("plot.png", width=5, height=5)
```

# Themes 

ggplot comes with many [Complete themes](https://ggplot2.tidyverse.org/reference/ggtheme.html)

## Default theme {.smaller}





::: {.cell}

```{.r .cell-code}
last_plot() + theme_gray(base_size=20)
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-54-1.png){width=672}
:::
:::





## Sample themes {.smaller}

:::: {.columns}

::: {.column width=50%}





::: {.cell}

```{.r .cell-code}
last_plot() + theme_bw(base_size=20)
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-55-1.png){width=672}
:::
:::

::: {.cell}

```{.r .cell-code}
last_plot() + theme_classic(base_size=20)
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-56-1.png){width=672}
:::
:::





::: 

::: {.column width=50%}





::: {.cell}

```{.r .cell-code}
last_plot() + theme_minimal(base_size=20)
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-57-1.png){width=672}
:::
:::

::: {.cell}

```{.r .cell-code}
last_plot() + theme_void(base_size=20)
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-58-1.png){width=672}
:::
:::





::: 

::::


# Shortcuts 

## ggplot2 calls {.smaller}

:::: {.columns}

::: {.column width=50%}

Explicit argument names:





::: {.cell}

```{.r .cell-code}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency,
        y = meanFamiliarity
    )
) + 
   geom_point()
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-59-1.png){width=672}
:::
:::






::: 


::: {.column width=50%}

Implied argument names:





::: {.cell}

```{.r .cell-code}
ggplot(
    ratings,
    aes(
        x = Frequency,
        y = meanFamiliarity
    )
) + 
   geom_point()
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-60-1.png){width=672}
:::
:::





::: 

::::


## the pipe `%>%` {.smaller}

> the pipe takes the thing on its left and passes it along to the function on its right 

. . .

`x %>% f(y)` is equivalent to `f(x, y)`

. . . 





::: {.cell}

```{.r .cell-code}
x <- c(1.0, 2.245, 3, 4.22222)
x
```

::: {.cell-output .cell-output-stdout}

```
[1] 1.00000 2.24500 3.00000 4.22222
```


:::

```{.r .cell-code}
# pass x as an argument to function usual way
round(x, digits = 2)
```

::: {.cell-output .cell-output-stdout}

```
[1] 1.00 2.24 3.00 4.22
```


:::
:::





. . . 




::: {.cell}

```{.r .cell-code}
# pass x as an argument to function with pipe
x %>% round(digits = 2)
```

::: {.cell-output .cell-output-stdout}

```
[1] 1.00 2.24 3.00 4.22
```


:::
:::






::: aside
There are two ways to write the pipe: `%>%` or `|>`
:::

## the pipe `%>%` and ggplot {.smaller}


:::: {.columns}

::: {.column width=50%}

Implied argument names:





::: {.cell}

```{.r .cell-code  code-line-numbers="2"}
ggplot(
    data = ratings,
    mapping = aes(
        x = Frequency,
        y = meanFamiliarity
    )
) + 
   geom_point()
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-63-1.png){width=672}
:::
:::






::: 


::: {.column width=50%}

Implied argument names + pipe:





::: {.cell}

```{.r .cell-code  code-line-numbers="1"}
ratings %>% 
ggplot(
    aes(
        x = Frequency,
        y = meanFamiliarity
    )
) + 
   geom_point()
```

::: {.cell-output-display}
![](data-visualization-1_files/figure-html/unnamed-chunk-64-1.png){width=672}
:::
:::





::: 

::::

::: aside
Note that we pipe `%>%` in arguments to functions but we ADD `+` layers to ggplot. Common mistake!
:::

## Exercise 1

> The basic ggplot

![Data from `penguins` dataframe in `palmerpenguins` package](/include/targets/class-target-basicpenguins.png){#fig-basicpenguintarget}

## Exercise 2

> Adding aesthetics and layers

![Data from `penguins` dataframe in `palmerpenguins` package](/include/targets/class-target-penguins.png){#fig-penguintarget} -->


</section>
</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>